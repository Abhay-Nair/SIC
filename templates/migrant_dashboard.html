<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Migrant Dashboard | Aarogya Check</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="layout">
    <header class="split">
      <div>
        <h1>ğŸ‘¤ Migrant Dashboard</h1>
        <p>Submit your application and track approval status</p>
      </div>
      <button id="logout-btn" class="secondary" style="width: auto; padding: 12px 24px; margin: 0;">
        ğŸšª Logout
      </button>
    </header>

    <section class="card">
      <h2>ğŸ“ Submit Application</h2>
      <p class="muted" style="margin-bottom: 24px;">
        Fill in your travel details and upload your medical report. You can update your application at any time.
      </p>
      <form id="application-form" enctype="multipart/form-data">
        <div class="grid grid-2">
          <div>
            <label>ğŸ‘¤ Full Name</label>
            <input type="text" name="name" required placeholder="Enter your full name">
          </div>
          <div>
            <label>ğŸ†” Aadhar Number</label>
            <input type="text" name="aadhar" required placeholder="12-digit Aadhar number" maxlength="12" pattern="[0-9]{12}">
            <p class="muted" style="margin-top: 4px; font-size: 0.75rem;">Only numbers, exactly 12 digits</p>
          </div>
          <div>
            <label>ğŸ“ Source Location</label>
            <select name="source" required class="scroll-select">
              <option value="">Select source</option>

              <!-- States -->
              <option>Andhra Pradesh</option>
              <option>Arunachal Pradesh</option>
              <option>Assam</option>
              <option>Bihar</option>
              <option>Chhattisgarh</option>
              <option>Goa</option>
              <option>Gujarat</option>
              <option>Haryana</option>
              <option>Himachal Pradesh</option>
              <option>Jharkhand</option>
              <option>Karnataka</option>
              <option>Kerala</option>
              <option>Madhya Pradesh</option>
              <option>Maharashtra</option>
              <option>Manipur</option>
              <option>Meghalaya</option>
              <option>Mizoram</option>
              <option>Nagaland</option>
              <option>Odisha</option>
              <option>Punjab</option>
              <option>Rajasthan</option>
              <option>Sikkim</option>
              <option>Tamil Nadu</option>
              <option>Telangana</option>
              <option>Tripura</option>
              <option>Uttar Pradesh</option>
              <option>Uttarakhand</option>
              <option>West Bengal</option>

              <!-- Union Territories -->
              <option>Andaman and Nicobar Islands</option>
              <option>Chandigarh</option>
              <option>Dadra and Nagar Haveli and Daman and Diu</option>
              <option>Delhi</option>
              <option>Jammu and Kashmir</option>
              <option>Ladakh</option>
              <option>Lakshadweep</option>
              <option>Puducherry</option>
            </select>
          </div>
          <div>
            <label>ğŸ¯ Destination</label>
            <select name="destination" required class="scroll-select">
              <option value="">Select destination</option>
              <option>Mumbai</option>
              <option>Pune</option>
              <option>Nagpur</option>
              <option>Nashik</option>
              <option>Aurangabad</option>
              <option>Solapur</option>
              <option>Kolhapur</option>
              <option>Satara</option>
              <option>Sangli</option>
              <option>Ahmednagar</option>
              <option>Akola</option>
              <option>Amravati</option>
              <option>Beed</option>
              <option>Bhandara</option>
              <option>Chandrapur</option>
              <option>Dhule</option>
              <option>Gondia</option>
              <option>Jalgaon</option>
              <option>Jalna</option>
              <option>Latur</option>
              <option>Nanded</option>
              <option>Osmanabad</option>
              <option>Parbhani</option>
              <option>Raigad</option>
              <option>Ratnagiri</option>
              <option>Sindhudurg</option>
              <option>Wardha</option>
              <option>Washim</option>
              <option>Yavatmal</option>
            </select>
          </div>
          <div>
            <label>ğŸš— Medium of Travel</label>
            <select name="medium_of_travel" required>
              <option value="">Select medium</option>
              <option value="Bus">Bus</option>
              <option value="Train">Train</option>
              <option value="Flight">Flight</option>
              <option value="Car">Car</option>
              <option value="Taxi">Taxi</option>
              <option value="Auto-rickshaw">Auto-rickshaw</option>
              <option value="Other">Other</option>
            </select>
          </div>
          <div>
            <label>ğŸ“§ Email Address</label>
            <input type="email" name="email" required placeholder="your.email@example.com">
          </div>
        </div>
        <label>ğŸ“„ Medical Report (PDF/Image) - Optional</label>
        <input type="file" name="medical_report" accept=".pdf,.png,.jpg,.jpeg">
        <p class="muted" style="margin-top: 8px; font-size: 0.85rem;">
          Optional: Upload a clear scan or photo of your medical report (Max 5MB)
        </p>
        <button type="submit" class="primary">ğŸ“¤ Submit / Update Application</button>
      </form>
      <div id="apply-message" class="toast"></div>
    </section>

    <section class="card">
      <h2>ğŸ“Š Application Status</h2>
      <p class="muted" style="margin-bottom: 16px;">
        Track your approval progress in real-time. Status updates automatically every 8 seconds.
      </p>
      <div id="status-panel" class="status">
        <p class="muted">Loading status...</p>
      </div>
      <button id="download-clearance" class="primary" disabled style="margin-top: 20px;">
        ğŸ“¥ Download Travel Clearance PDF
      </button>
      <p class="muted" style="margin-top: 12px; font-size: 0.85rem;">
        Available only after both Doctor and Official approvals are complete.
      </p>
    </section>
  </div>
  <script src="/static/migrant.js"></script>
</body>
</html>
